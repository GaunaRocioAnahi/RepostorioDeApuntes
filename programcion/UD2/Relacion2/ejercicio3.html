<script>
    //  Sistema de Compras en Almacén
    //Desarrolla un programa que gestiona las compras en un almacén. Para esto:
    //Crea una matriz que contiene los nombres de 10 productos disponibles en el almacén.
    //Crea otra matriz que contiene los precios correspondientes a esos 10 productos.
    //El programa debe permitir al usuario realizar una compra solicitando el nombre del producto y la cantidad deseada.
    //El programa debe el precio del producto seleccionado, multiplicarlo por la cantidad y buscarlo al total de la compra.
    //Si el usuario escribe "FIN", el programa debe finalizar la compra, mostrando un resumen con todos los productos adquiridos, sus cantidades y el costo total a pagar.

    let productosDisponibles = ["leche", "papa", "harina", "huevos", "manteca", "queso", "limon", "azucar", "levadura", "cebolla"];
    let preciosDeProductos = [1.50, 2, 3, 5, 2.3, 6, 3.5, 1.08, 0.60, 1.20];
    let nombreDeProducto = "";
    let cantidadDeProducto = 0;
    let compraTotal = 0;
    let productosAdquiridos = [];

    // La condición del while controla si seguimos comprando
    while (nombreDeProducto.toLowerCase() != "fin") {

        // Pedimos el nombre del producto
        nombreDeProducto = prompt("Ingrese un nombre de producto (o FIN para terminar):");

        // Solo procesamos si no es "fin"
        if (nombreDeProducto.toLowerCase() != "fin") {

            // Pedimos la cantidad
            cantidadDeProducto = Number(prompt("Ingrese la cantidad de producto:"));

            if (cantidadDeProducto <= 0 || cantidadDeProducto != cantidadDeProducto) {
                console.log("Cantidad debe ser un número positivo.");
            } else {

                // Buscamos el índice del producto
                let indiceProducto = -1;
                for (let i = 0; i < productosDisponibles.length; i++) {
                    if (productosDisponibles[i].toLowerCase() == nombreDeProducto.toLowerCase()) {
                        indiceProducto = i;
                    }
                }

                // Si encontramos el producto, procesamos la compra
                if (indiceProducto >= 0) {
                    let subtotal = preciosDeProductos[indiceProducto] * cantidadDeProducto;
                    compraTotal = compraTotal + subtotal;

                    productosAdquiridos.push({
                        nombre: productosDisponibles[indiceProducto],
                        cantidad: cantidadDeProducto,
                        subtotal: subtotal
                    });

                    console.log("Producto agregado: " + cantidadDeProducto + " " + productosDisponibles[indiceProducto] + " - Subtotal: €" + subtotal.toFixed(2));
                }
                // Si no se encuentra el producto
                else {
                    console.log("ERROR: " + nombreDeProducto + " no se encuentra en el almacén.");
                }
            }
        }
    }

    // Resumen de compra

    for (let i = 0; i < productosAdquiridos.length; i++) {
        console.log("Producto: " + productosAdquiridos[i].nombre +
            ", Cantidad: " + productosAdquiridos[i].cantidad +
            ", Subtotal: €" + productosAdquiridos[i].subtotal.toFixed(2));
    }
    console.log("Total a pagar: €" + compraTotal.toFixed(2));



</script>