<script>
    //  Sistema de Compras en Almacén
    //Desarrolla un programa que gestiona las compras en un almacén. Para esto:
    //Crea una matriz que contiene los nombres de 10 productos disponibles en el almacén.
    //Crea otra matriz que contiene los precios correspondientes a esos 10 productos.
    //El programa debe permitir al usuario realizar una compra solicitando el nombre del producto y la cantidad deseada.
    //El programa debe el precio del producto seleccionado, multiplicarlo por la cantidad y buscarlo al total de la compra.
    //Si el usuario escribe "FIN", el programa debe finalizar la compra, mostrando un resumen con todos los productos adquiridos, sus cantidades y el costo total a pagar.

    let productosDisponibles = ["leche", "papa", "harina", "huevos", "manteca", "queso", "limon", "azucar", "levadura", "cebolla"];
    let preciosDeProductos = [1.50, 2, 3, 5, 2.3, 6, 3.5, 1.08, 0.60, 1.20]
    let nombreDeProducto = ""
    let cantidadDeProducto = 0
    let precioPorUnidad = 0
    let subtotalProductos
    let compraTotal = 0
    let productosAdquiridos = []


    while (nombreDeProducto != "fin") {

        //---- pido el nombre del producto---

        nombreDeProducto = prompt("ingrese un nombre de producto");


        if (cantidadDeProducto != "fin") {

            // --- pedir la cantidad de producto
            cantidadDeProducto = Number(prompt("ingrese la cantidad de producto"))

            //---- demostrar producto encontrado
            if (cantidadDeProducto > 0) {
                let productoEncontrado = false
                // ----- bucle for recorre los productos disponibles
                for (let i = 0; i < productosDisponibles.length; i++) {
                    //------comparamos 
                    if (productosDisponibles[i].toUpperCase() == nombreDeProducto.toLocaleUpperCase()) {
                        productoEncontrado = true // encontro el producto

                        //----calculamos la compra
                        precioPorUnidad = preciosDeProductos[i];
                        subtotalProductos = precioPorUnidad * cantidadDeProducto
                        compraTotal = compraTotal + subtotalProductos;

                        //---- agrega a un nuevo array
                        productosAdquiridos.push({
                            nombre: productosDisponibles[i],
                            cantidad: cantidadDeProducto,
                            subtotal: subtotalProductos
                        });
                        console.log("producto agregado:" + cantidadDeProducto + " " + productosDisponibles[i] +" "+ "subtotal De productos " + " "+ " €" +subtotalProductos.toFixed(2));
                        // salimos del for 
                        i = productosDisponibles.length;
                    }
                }
                if (productoEncontrado == false) {
                    console.log("ERROR" + nombreDeProducto + " no se encunetra el produucto");


                } else if (cantidadDeProducto <= 0) {
                    console.log("cantidad debe ser positivo.");
                    cantidadDeProducto = Number(prompt("volver a ingresar la cantidad de producto"))
                }
            }
        }
    }
    console.log("fin de la compra");
    for (let i = 0; i < productosAdquiridos.length; i++) {
        let indice = productosAdquiridos[i];
        console.log("producto:" + indice.nombre +" "+ "cantidad:"+" " + indice.cantidad+ " " + "subtotal:" + indice.subtotal);

    }
    console.log("Total a pagar" + " " + compraTotal.toFixed(2));




</script>